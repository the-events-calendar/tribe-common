/* = Dialogs
This can include modals, toasters, confirms. alerts.
============================ */

/* Utilities */
@import "utilities/_all.pcss";

.tribe-common {
	/* vars */
	.tribe-dialog {
		--tec-dialog-background-color: #fff;
		--tec-dialog-close-background: #fff;
		--tec-dialog-close-border-color: #bababa;
		--tec-dialog-close-border-width: 1px;
		--tec-dialog-close-color: #bababa;
		--tec-dialog-close-height: 12px;
		--tec-dialog-close-height-desktop: 16px;
		--tec-dialog-overlay-color: transparent;
		--tec-modal-overlay-color: rgba(20, 24, 39, 0.9);
		--tec-dialog-border-radius: 4px;
		--tec-dialog-padding: 16px;
		--tec-dialog-padding-top: 24px;
		--tec-dialog-padding-side: 28px;
	}

	/* The dialog/popup/modal itself */
	div.tribe-dialog {
		align-items: center;
		display: flex;
		height: 100vh;
		justify-content: center;
		left: 0;
		position: fixed;
		top: 0;
		width: 100vw;
		z-index: 100;

		&[aria-hidden='true'] {
			display: none;
		}
	}

	/* The overlay */
	.tribe-dialog__overlay {
		background-color: var(--tec-dialog-overlay-color);
		height: 100vh;
		left: 0;
		opacity: 0.9;
		position: fixed;
		top: 0;
		width: 100vw;
		z-index: 100;
	}

	/* Content wrapper - includes close button */
	.tribe-dialog__wrapper {
		background-color: var(--tec-dialog-background-color);
		border-radius: var(--tec-dialog-border-radius);
		box-shadow: 0 2px 54px 0 var(--tec-modal-overlay-color);
		max-height: 100vh;
		max-width: 100vw;
		overflow-y: auto;
		padding: var(--tec-dialog-padding);
		-webkit-perspective: 1000;
		-webkit-transform: translateZ(0);
		-webkit-transform: translate3d(0, 0, 0);
		width: 800px;
		z-index: 200;

		div[role="document"] {
			align-items: flex-end;
			display: flex;
			flex-flow: column;
			justify-content: space-between;
			position: relative;
		}

		@media screen and (min-width: 768px) {
			max-height: calc(100vh - 160px);
			padding: var(--tec-dialog-padding-top) var(--tec-dialog-padding-side);
		}
	}

	/* The "close" button */
	.tribe-dialog__close-button {
		background: var(--tec-dialog-close-background);
		background-image: svg-inline(close-secondary);
		background-repeat: no-repeat;
		background-size: contain;
		cursor: pointer;
		display: inline-block;
		font-size: 14px;
		height: var(--tec-dialog-close-height);
		line-height: var(--tec-dialog-close-height);
		padding: 0;
		position: absolute;
		width: var(--tec-dialog-close-height);
		z-index: 1;

		@media screen and (min-width: 768px) {
			height: var(--tec-dialog-close-height-desktop);
			line-height: var(--tec-dialog-close-height-desktop);
			width: var(--tec-dialog-close-height-desktop);
		}

		&:focus,
		&:hover {
			background: var(--tec-dialog-close-background);
			background-image: svg-inline(close);
			background-size: contain;
			outline: none;
		}

		&:focus {
			outline: auto;
		}
	}

	.tribe-dialog__close-button--hidden {
		display: none;
	}

	.tribe-dialog__close-button--round {
		border-radius: 50%;
	}

	.tribe-dialog__close-button--border {
		border: var(--tec-dialog-close-border-width) solid var(--tec-dialog-close-border-color);
	}

	h2.tribe-dialog__title {
		align-self: flex-start;
		margin: 0 0 22px;
		padding-right: calc(var(--tec-dialog-close-height) + 0.5em);
		padding-top: 0;
	}

	/* The content container */
	.tribe-dialog__content {
		color: #141827;
		font-size: 14px;
		line-height: 1.64em;
		padding-right: calc(var(--tec-dialog-close-height) + 0.5em);
		padding-top: calc(var(--tec-dialog-close-height) + 0.5em);
		width: 100%;
	}

	.tribe-dialog__title + .tribe-dialog__content {
		padding: 0;
	}

	.tribe-dialog__content p {
		font-size: var(--tec-font-size-2);
	}

	@media screen and (max-width: 768px) {
		.tribe-dialog__content:last-of-type {
			padding-bottom: 36px;
		}
	}

	/* Modal Styles */

	.tribe-modal__overlay {
		background-color: var(--tec-modal-overlay-color);
	}

	/* Confirmation Styles */

	.tribe-confirm__content {
		padding-right: 0;
	}

	.tribe-dialog__button_wrap {
		display: flex;
		flex-flow: row wrap;
		justify-content: flex-end;
		margin-top: 1rem;
	}

	.tribe-dialog__button-cancel,
	.tribe-dialog__button-continue {
		margin-left: var(--tec-spacer-1);
		width: auto;
	}

	/* -------------------------------------------------------------------------
	 * Theme Overrides - Avada
	 * ------------------------------------------------------------------------- */

	.tribe-theme-avada & {

		div.tribe-dialog {
			z-index: 99999;
		}
	}

	/* -------------------------------------------------------------------------
	 * Theme Overrides - Divi
	 * ------------------------------------------------------------------------- */

	.tribe-theme-divi & {

		div.tribe-dialog {
			z-index: 99999;
		}
	}

	/* -------------------------------------------------------------------------
	 * Theme Overrides - Enfold
	 * ------------------------------------------------------------------------- */

	#top.tribe-theme-enfold &,
	#top .main_color & {

		div.tribe-dialog {
			z-index: 99999;
		}
	}
}
